<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>測試商品載入</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js"></script>
</head>
<body>
  <h1>🐶 狗狗專區 商品列表</h1>
  <div id="result">載入中...</div>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyBrL9y61iRSGv9bUDBQ8eRpU77MEhF5ztg",
      authDomain: "petpetta.firebaseapp.com",
      projectId: "petpetta",
      storageBucket: "petpetta.appspot.com",
      messagingSenderId: "1094013665549",
      appId: "1:1094013665549:web:7bc52fdc3dfb674c57e64f"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    const output = document.getElementById("result");

    db.collection("products").doc("dog").collection("products").get()
      .then(snapshot => {
        if (snapshot.empty) {
          output.innerHTML = "❌ 沒有任何商品";
          return;
        }

        let html = "<ul>";
        snapshot.forEach(doc => {
          const d = doc.data();
          html += `<li>${d.name} - $${d.price}</li>`;
        });
        html += "</ul>";
        output.innerHTML = html;
      })
      .catch(err => {
        output.innerHTML = "🔥 錯誤：" + err.message;
      });
  </script>
</body>
</html>
